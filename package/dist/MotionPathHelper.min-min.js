/*!
 * MotionPathHelper 3.7.1
 * https://greensock.com
 * 
 * @license Copyright 2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).window=t.window||{})}(this,(function(t){"use strict";function e(t){return Math.round(1e5*t)/1e5||0}function n(t,e){return e.totalLength=t.totalLength,t.samples?(e.samples=t.samples.slice(0),e.lookup=t.lookup.slice(0),e.minLength=t.minLength,e.resolution=t.resolution):t.totalPoints&&(e.totalPoints=t.totalPoints),e}var i,s=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,r=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/gi,o=Math.PI/180,a=Math.sin,h=Math.cos,l=Math.abs,c=Math.sqrt,d=Math.atan2,u=1e8;function g(t){for(var e=[],i=0;i<t.length;i++)e[i]=n(t[i],t[i].slice(0));return n(t,e)}function p(t,e,n,i,s,r,o){for(var a,h,l,c,d,u=t.length;-1<--u;)for(h=(a=t[u]).length,l=0;l<h;l+=2)c=a[l],d=a[l+1],a[l]=c*e+d*i+r,a[l+1]=c*n+d*s+o;return t._dirty=1,t}function f(t,e,n,i,s,r,d,u,g){if(t!==u||e!==g){n=l(n),i=l(i);var p=s%360*o,f=h(p),_=a(p),m=Math.PI,v=2*m,b=(t-u)/2,y=(e-g)/2,A=f*b+_*y,w=-_*b+f*y,P=A*A,x=w*w,S=P/(n*n)+x/(i*i);1<S&&(n=c(S)*n,i=c(S)*i);var C=n*n,E=i*i,k=(C*E-C*x-E*P)/(C*x+E*P);k<0&&(k=0);var M=(r===d?-1:1)*c(k),D=n*w/i*M,T=-i*A/n*M,H=f*D-_*T+(t+u)/2,R=_*D+f*T+(e+g)/2,N=(A-D)/n,L=(w-T)/i,X=(-A-D)/n,I=(-w-T)/i,O=N*N+L*L,q=(L<0?-1:1)*Math.acos(N/c(O)),Y=(N*I-L*X<0?-1:1)*Math.acos((N*X+L*I)/c(O*(X*X+I*I)));isNaN(Y)&&(Y=m),!d&&0<Y?Y-=v:d&&Y<0&&(Y+=v),q%=v,Y%=v;var V,G=Math.ceil(l(Y)/(v/4)),j=[],z=Y/G,B=4/3*a(z/2)/(1+h(z/2)),F=f*n,W=_*n,U=_*-i,Z=f*i;for(V=0;V<G;V++)A=h(s=q+V*z),w=a(s),N=h(s+=z),L=a(s),j.push(A-B*w,w+B*A,N+B*L,L-B*N,N,L);for(V=0;V<j.length;V+=2)A=j[V],w=j[V+1],j[V]=A*F+w*U+H,j[V+1]=A*W+w*Z+R;return j[V-2]=u,j[V-1]=g,j}}function _(t){function e(t,e,n,i){p=(n-t)/3,_=(i-e)/3,d.push(t+p,e+_,n-p,i-_,n,i)}var n,i,o,a,h,c,d,u,g,p,_,m,v,b,y,A=(t+"").replace(r,(function(t){var e=+t;return e<1e-4&&-1e-4<e?0:e})).match(s)||[],w=[],P=0,x=0,S=A.length,C=0,E="ERROR: malformed path: "+t;if(!t||!isNaN(A[0])||isNaN(A[1]))return console.log(E),w;for(n=0;n<S;n++)if(v=h,isNaN(A[n])?c=(h=A[n].toUpperCase())!==A[n]:n--,o=+A[n+1],a=+A[n+2],c&&(o+=P,a+=x),n||(u=o,g=a),"M"===h)d&&(d.length<8?--w.length:C+=d.length),P=u=o,x=g=a,d=[o,a],w.push(d),n+=2,h="L";else if("C"===h)c||(P=x=0),(d=d||[0,0]).push(o,a,P+1*A[n+3],x+1*A[n+4],P+=1*A[n+5],x+=1*A[n+6]),n+=6;else if("S"===h)p=P,_=x,"C"!==v&&"S"!==v||(p+=P-d[d.length-4],_+=x-d[d.length-3]),c||(P=x=0),d.push(p,_,o,a,P+=1*A[n+3],x+=1*A[n+4]),n+=4;else if("Q"===h)p=P+2/3*(o-P),_=x+2/3*(a-x),c||(P=x=0),P+=1*A[n+3],x+=1*A[n+4],d.push(p,_,P+2/3*(o-P),x+2/3*(a-x),P,x),n+=4;else if("T"===h)p=P-d[d.length-4],_=x-d[d.length-3],d.push(P+p,x+_,o+2/3*(P+1.5*p-o),a+2/3*(x+1.5*_-a),P=o,x=a),n+=2;else if("H"===h)e(P,x,P=o,x),n+=1;else if("V"===h)e(P,x,P,x=o+(c?x-P:0)),n+=1;else if("L"===h||"Z"===h)"Z"===h&&(o=u,a=g,d.closed=!0),("L"===h||.5<l(P-o)||.5<l(x-a))&&(e(P,x,o,a),"L"===h&&(n+=2)),P=o,x=a;else if("A"===h){if(b=A[n+4],y=A[n+5],p=A[n+6],_=A[n+7],i=7,1<b.length&&(b.length<3?(_=p,p=y,i--):(_=y,p=b.substr(2),i-=2),y=b.charAt(1),b=b.charAt(0)),m=f(P,x,+A[n+1],+A[n+2],+A[n+3],+b,+y,(c?P:0)+1*p,(c?x:0)+1*_),n+=i,m)for(i=0;i<m.length;i++)d.push(m[i]);P=d[d.length-2],x=d[d.length-1]}else console.log(E);return(n=d.length)<6?(w.pop(),n=0):d[0]===d[n-2]&&d[1]===d[n-1]&&(d.closed=!0),w.totalPoints=C+n,w}function m(t,e,n,i,s,r,o,a,h,c,d){var u,g=(t+n)/2,p=(e+i)/2,f=(n+s)/2,_=(i+r)/2,v=(s+o)/2,b=(r+a)/2,y=(g+f)/2,A=(p+_)/2,w=(f+v)/2,P=(_+b)/2,x=(y+w)/2,S=(A+P)/2,C=o-t,E=a-e,k=l((n-o)*E-(i-a)*C),M=l((s-o)*E-(r-a)*C);return c||(c=[t,e,o,a],d=2),c.splice(d||c.length-2,0,x,S),h*(C*C+E*E)<(k+M)*(k+M)&&(u=c.length,m(t,e,g,p,y,A,x,S,h,c,d),m(x,S,w,P,v,b,o,a,h,c,d+2+(c.length-u))),c}function v(t,n,i){l(t[0]-t[2])<1e-4&&l(t[1]-t[3])<1e-4&&(t=t.slice(2));var s,r,o,u,g,p,f,_,m,v,b,y,A,w,P=t.length-2,x=+t[0],S=+t[1],C=+t[2],E=+t[3],k=[x,S,x,S],M=C-x,D=E-S,T=Math.abs(t[P]-x)<.001&&Math.abs(t[P+1]-S)<.001;for(isNaN(i)&&(i=Math.PI/10),T&&(t.push(C,E),C=x,E=S,x=t[P-2],S=t[P-1],t.unshift(x,S),P+=4),n=n||0===n?+n:1,g=2;g<P;g+=2)s=x,r=S,x=C,S=E,C=+t[g+2],E=+t[g+3],x===C&&S===E||(y=(p=M)*p+(_=D)*_,A=(M=C-x)*M+(D=E-S)*D,w=(f=C-s)*f+(m=E-r)*m,b=(o=Math.acos((y+A-w)/c(4*y*A)))/Math.PI*n,v=c(y)*b,b*=c(A),x===s&&S===r||(i<o?(u=d(m,f),k.push(e(x-h(u)*v),e(S-a(u)*v),e(x),e(S),e(x+h(u)*b),e(S+a(u)*b))):(u=d(_,p),k.push(e(x-h(u)*v),e(S-a(u)*v)),u=d(D,M),k.push(e(x),e(S),e(x+h(u)*b),e(S+a(u)*b)))));return x!==C||S!==E||k.length<4?k.push(e(C),e(E),e(C),e(E)):k.length-=2,T&&(k.splice(0,6),k.length=k.length-6),k}function b(t,e){var n,i,s,r,o,a,h,l=parseFloat(t[0]),c=parseFloat(t[1]),d=[l,c],u=t.length-2;for(e=Math.pow(e||1,2),n=2;n<u;n+=2)e<(r=l-(i=parseFloat(t[n])))*r+(o=c-(s=parseFloat(t[n+1])))*o&&(d.push(i,s),l=i,c=s);return d.push(parseFloat(t[u]),parseFloat(t[1+u])),function t(e,n,i,s,r){var o,a,h,l,c,d,u,g,p,f,_,m,v=s,b=e[n],y=e[n+1],A=e[i],w=e[i+1];for(a=n+2;a<i;a+=2)l=e[a],c=e[a+1],f=void 0,m=(p=w)-(u=y),((_=(g=A)-(d=b))||m)&&(1<(f=((l-d)*_+(c-u)*m)/(_*_+m*m))?(d=g,u=p):0<f&&(d+=_*f,u+=m*f)),v<(h=Math.pow(l-d,2)+Math.pow(c-u,2))&&(o=a,v=h);s<v&&(2<o-n&&t(e,n,o,s,r),r.push(e[o],e[o+1]),2<i-o&&t(e,o,i,s,r))}(d,0,h=d.length-2,e,a=[d[0],d[1]]),a.push(d[h],d[1+h]),a}function y(t,e,n,s,r,o,a,h,l,c,d,g,p,f){var _,m,v,b,A=(r-s)/o,w=0,P=s;for(i=u;P<=r;)(_=(m=(b=1-P)*b*b*a+3*b*b*P*l+3*b*P*P*d+P*P*P*p-e)*m+(v=b*b*b*h+3*b*b*P*c+3*b*P*P*g+P*P*P*f-n)*v)<i&&(i=_,w=P),P+=A;return 1<t?y(t-1,e,n,Math.max(w-A,0),Math.min(w+A,1),o,a,h,l,c,d,g,p,f):w}function A(t){var e=t.ownerDocument||t;!(X in t.style)&&"msTransform"in t.style&&(I=(X="msTransform")+"Origin");for(;e.parentNode&&(e=e.parentNode););if(E=window,H=new Y,e){k=(C=e).documentElement,M=e.body,(R=C.createElementNS("http://www.w3.org/2000/svg","g")).style.transform="none";var n=e.createElement("div"),i=e.createElement("div");M.appendChild(n),n.appendChild(i),n.style.position="static",n.style[X]="translate3d(0,0,1px)",N=i.offsetParent!==n,M.removeChild(n)}return e}function w(t){return t.ownerSVGElement||("svg"===(t.tagName+"").toLowerCase()?t:null)}function P(t,e){if(t.parentNode&&(C||A(t))){var n=w(t),i=n?n.getAttribute("xmlns")||"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",s=n?e?"rect":"g":"div",r=2!==e?0:100,o=3===e?100:0,a="position:absolute;display:block;pointer-events:none;margin:0;padding:0;",h=C.createElementNS?C.createElementNS(i.replace(/^https/,"http"),s):C.createElement(s);return e&&(n?(T=T||P(t),h.setAttribute("width",.01),h.setAttribute("height",.01),h.setAttribute("transform","translate("+r+","+o+")"),T.appendChild(h)):(D||((D=P(t)).style.cssText=a),h.style.cssText=a+"width:0.1px;height:0.1px;top:"+o+"px;left:"+r+"px",D.appendChild(h))),h}throw"Need document and parent."}function x(t,e){var n,i,s,r,o,a,h=w(t),l=t===h,c=h?O:q,d=t.parentNode;if(t===E)return t;if(c.length||c.push(P(t,1),P(t,2),P(t,3)),n=h?T:D,h)l?(r=-(s=function(t){var e,n=t.getCTM();return n||(e=t.style[X],t.style[X]="none",t.appendChild(R),n=R.getCTM(),t.removeChild(R),e?t.style[X]=e:t.style.removeProperty(X.replace(/([A-Z])/g,"-$1").toLowerCase())),n}(t)).e/s.a,o=-s.f/s.d,i=H):(s=t.getBBox(),r=(i=(i=t.transform?t.transform.baseVal:{}).numberOfItems?1<i.numberOfItems?function(t){for(var e=new Y,n=0;n<t.numberOfItems;n++)e.multiply(t.getItem(n).matrix);return e}(i):i.getItem(0).matrix:H).a*s.x+i.c*s.y,o=i.b*s.x+i.d*s.y),e&&"g"===t.tagName.toLowerCase()&&(r=o=0),(l?h:d).appendChild(n),n.setAttribute("transform","matrix("+i.a+","+i.b+","+i.c+","+i.d+","+(i.e+r)+","+(i.f+o)+")");else{if(r=o=0,N)for(i=t.offsetParent,s=t;(s=s&&s.parentNode)&&s!==i&&s.parentNode;)4<(E.getComputedStyle(s)[X]+"").length&&(r=s.offsetLeft,o=s.offsetTop,s=0);if("absolute"!==(a=E.getComputedStyle(t)).position&&"fixed"!==a.position)for(i=t.offsetParent;d&&d!==i;)r+=d.scrollLeft||0,o+=d.scrollTop||0,d=d.parentNode;(s=n.style).top=t.offsetTop-o+"px",s.left=t.offsetLeft-r+"px",s[X]=a[X],s[I]=a[I],s.position="fixed"===a.position?"fixed":"absolute",t.parentNode.appendChild(n)}return n}function S(t,e,n,i,s,r,o){return t.a=e,t.b=n,t.c=i,t.d=s,t.e=r,t.f=o,t}var C,E,k,M,D,T,H,R,N,L,X="transform",I=X+"Origin",O=[],q=[],Y=((L=V.prototype).inverse=function(){var t=this.a,e=this.b,n=this.c,i=this.d,s=this.e,r=this.f,o=t*i-e*n||1e-10;return S(this,i/o,-e/o,-n/o,t/o,(n*r-i*s)/o,-(t*r-e*s)/o)},L.multiply=function(t){var e=this.a,n=this.b,i=this.c,s=this.d,r=this.e,o=this.f,a=t.a,h=t.c,l=t.b,c=t.d,d=t.e,u=t.f;return S(this,a*e+l*i,a*n+l*s,h*e+c*i,h*n+c*s,r+d*e+u*i,o+d*n+u*s)},L.clone=function(){return new V(this.a,this.b,this.c,this.d,this.e,this.f)},L.equals=function(t){var e=this.a,n=this.b,i=this.c,s=this.d,r=this.e,o=this.f;return e===t.a&&n===t.b&&i===t.c&&s===t.d&&r===t.e&&o===t.f},L.apply=function(t,e){void 0===e&&(e={});var n=t.x,i=t.y,s=this.a,r=this.b,o=this.c,a=this.d,h=this.e,l=this.f;return e.x=n*s+i*o+h||0,e.y=n*r+i*a+l||0,e},V);function V(t,e,n,i,s,r){void 0===t&&(t=1),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=1),void 0===s&&(s=0),void 0===r&&(r=0),S(this,t,e,n,i,s,r)}function G(){return!1}function j(t){t.preventDefault&&(t.preventDefault(),t.preventManipulation&&t.preventManipulation())}function z(t){return ht.createElementNS?ht.createElementNS("http://www.w3.org/1999/xhtml",t):ht.createElement(t)}function B(t,e,n){var i,s=ht.createElementNS("http://www.w3.org/2000/svg",t),r=/([a-z])([A-Z])/g;for(i in(n=n||{}).class=n.class||"path-editor",n)void 0!==s.style[i]?s.style[i]=n[i]:s.setAttributeNS(null,i.replace(r,"$1-$2").toLowerCase(),n[i]);return e.appendChild(s),s}function F(t){return(t.transform&&t.transform.baseVal.consolidate()||Rt).matrix}function W(t){return~~(1e3*t+(t<0?-.5:.5))/1e3}function U(t){if(!t.target._gsSelection&&!Ct&&100<xt()-St){for(var e=Ht.length;-1<--e;)Ht[e].deselect();Ht.length=0}}function Z(t,e,n,i){if(t.addEventListener){var s=vt[e];i=i||{passive:!1},t.addEventListener(s||e,n,i),s&&e!==s&&"pointer"!==s.substr(0,7)&&t.addEventListener(e,n,i)}else t.attachEvent&&t.attachEvent("on"+e,n)}function K(t,e,n){if(t.removeEventListener){var i=vt[e];t.removeEventListener(i||e,n),i&&e!==i&&"pointer"!==i.substr(0,7)&&t.removeEventListener(e,n)}else t.detachEvent&&t.detachEvent("on"+e,n)}function Q(t){Nt=t.touches&&_dragCount<t.touches.length,K(t.target,"touchend",Q)}function J(t){Nt=t.touches&&_dragCount<t.touches.length,Z(t.target,"touchend",Q)}function tt(t,e){return function(n){return t.call(e,n)}}function et(t,e,n){var i=e.vars[t];return i&&i.call(e.vars.callbackScope||e,n||e),e}function nt(){bt.style.display="block",bt.select(),bt.style.display="none"}function it(t){var e,n,i=this,s=function(t,e,n,i){if(!t||!t.parentNode||(C||A(t)).documentElement===t)return new Y;var s=function(t){for(var e,n;t&&t!==M;)(n=t._gsap)&&n.uncache&&n.get(t,"x"),n&&!n.scaleX&&!n.scaleY&&n.renderTransform&&(n.scaleX=n.scaleY=1e-4,n.renderTransform(1,n),e?e.push(n):e=[n]),t=t.parentNode;return e}(t),r=w(t)?O:q,o=x(t,n),a=r[0].getBoundingClientRect(),h=r[1].getBoundingClientRect(),l=r[2].getBoundingClientRect(),c=o.parentNode,d=!i&&function t(e){return"fixed"===E.getComputedStyle(e).position||((e=e.parentNode)&&1===e.nodeType?t(e):void 0)}(t),u=new Y((h.left-a.left)/100,(h.top-a.top)/100,(l.left-a.left)/100,(l.top-a.top)/100,a.left+(d?0:E.pageXOffset||C.scrollLeft||k.scrollLeft||M.scrollLeft||0),a.top+(d?0:E.pageYOffset||C.scrollTop||k.scrollTop||M.scrollTop||0));if(c.removeChild(o),s)for(a=s.length;a--;)(h=s[a]).scaleX=h.scaleY=0,h.renderTransform(1,h);return e?u.inverse():u}(i.target.parentNode,!0);this._matrix=this.target.transform.baseVal.getItem(0).matrix,this._ctm=s,vt[t.type]?(Z(e=-1!==t.type.indexOf("touch")?t.currentTarget||t.target:ht,"touchend",i._onRelease),Z(e,"touchmove",i._onMove),Z(e,"touchcancel",i._onRelease),Z(ht,"touchstart",J),Z(ct,"touchforcechange",j)):(e=null,Z(ht,"mousemove",i._onMove)),lt||Z(ht,"mouseup",i._onRelease),j(t),nt(),t.changedTouches?(t=i.touch=t.changedTouches[0],i.touchID=t.identifier):t.pointerId?i.touchID=t.pointerId:i.touch=i.touchID=null,i._startPointerY=i.pointerY=t.pageY,i._startPointerX=i.pointerX=t.pageX,i._startElementX=i._matrix.e,i._startElementY=i._matrix.f,1===this._ctm.a&&0===this._ctm.b&&0===this._ctm.c&&1===this._ctm.d?this._ctm=null:(n=i._startPointerX*this._ctm.a+i._startPointerY*this._ctm.c+this._ctm.e,i._startPointerY=i._startPointerX*this._ctm.b+i._startPointerY*this._ctm.d+this._ctm.f,i._startPointerX=n),i.isPressed=Ct=!0,i.touchEventTarget=e,i.vars.onPress&&i.vars.onPress.call(i.vars.callbackScope||i,i.pointerEvent)}function st(t){var e,n,i=this,s=t;if(i._enabled&&!Nt&&i.isPressed&&t){if(e=(i.pointerEvent=t).changedTouches){if((t=e[0])!==i.touch&&t.identifier!==i.touchID){for(n=e.length;-1<--n&&(t=e[n]).identifier!==i.touchID;);if(n<0)return}}else if(t.pointerId&&i.touchID&&t.pointerId!==i.touchID)return;j(s),i.setPointerPosition(t.pageX,t.pageY),i.vars.onDrag&&i.vars.onDrag.call(i.vars.callbackScope||i,i.pointerEvent)}}function rt(t,e){var n=this;if(n._enabled&&n.isPressed&&(!t||null==n.touchID||e||!(t.pointerId&&t.pointerId!==n.touchID||t.changedTouches&&!function(t,e){for(var n=t.length;-1<--n;)if(t[n].identifier===e)return!0;return!1}(t.changedTouches,n.touchID)))){St=xt(),n.isPressed=Ct=!1;var i,s,r=t,o=n.isDragging,a=n.touchEventTarget;if(a?(K(a,"touchend",n._onRelease),K(a,"touchmove",n._onMove),K(a,"touchcancel",n._onRelease),K(ht,"touchstart",J)):K(ht,"mousemove",n._onMove),lt||(K(ht,"mouseup",n._onRelease),t&&t.target&&K(t.target,"mouseup",n._onRelease)),o?n.isDragging=!1:n.vars.onClick&&n.vars.onClick.call(n.vars.callbackScope||n,r),t){if((i=t.changedTouches)&&(t=i[0])!==n.touch&&t.identifier!==n.touchID){for(s=i.length;-1<--s&&(t=i[s]).identifier!==n.touchID;);if(s<0)return}n.pointerEvent=r,n.pointerX=t.pageX,n.pointerY=t.pageY}return r&&!o&&n.vars.onDragRelease?n.vars.onDragRelease.call(n,n.pointerEvent):(r&&j(r),n.vars.onRelease&&n.vars.onRelease.call(n.vars.callbackScope||n,n.pointerEvent)),o&&n.vars.onDragEnd&&n.vars.onDragEnd.call(n.vars.callbackScope||n,n.pointerEvent),!0}}function ot(t,e,n,i){var s,r=t[e],o=r.length-(r.closed?6:0),a=[];for(s=0;s<o;s+=6)a.push(new Ot(n,t,e,s,i));return r.closed&&(a[0].isClosedStart=!0),a}function at(t,e,n){var i=t[n]-t[e],s=t[n+1]-t[e+1];return Math.sqrt(i*i+s*s)}var ht,lt,ct,dt,ut,gt,pt,ft,_t,mt,vt,bt,yt,At,$=/(?:(-)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,wt="#4e7fff",Pt=Math.PI/180,xt=Date.now||function(){return(new Date).getTime()},St=0,Ct=0,Et={},kt=[],Mt={},Dt=[],Tt=",",Ht=[],Rt={matrix:new Y},Nt=0,Lt=((At=Xt.prototype).setPointerPosition=function(t,e){var n,i,s,r,o;this.pointerX=t,this.pointerY=e,this._ctm&&(o=t*this._ctm.a+e*this._ctm.c+this._ctm.e,e=t*this._ctm.b+e*this._ctm.d+this._ctm.f,t=o),(i=e-this._startPointerY)<1&&-1<i&&(i=0),(n=t-this._startPointerX)<1&&-1<n&&(n=0),s=(1e3*(this._startElementX+n)|0)/1e3,r=(1e3*(this._startElementY+i)|0)/1e3,this.snap&&!pt&&(Mt.x=s,Mt.y=r,this.snap.call(this,Mt),s=Mt.x,r=Mt.y),this.x===s&&this.y===r||(this._matrix.f=this.y=r,this._matrix.e=this.x=s,!this.isDragging&&this.isPressed&&(this.isDragging=!0,et("onDragStart",this,this.pointerEvent)))},At.enabled=function(t){return arguments.length?((this._enabled=t)?(lt||Z(this.target,"mousedown",this._onPress),Z(this.target,"touchstart",this._onPress),Z(this.target,"click",this._onClick,!0)):(e=this.isDragging,K(this.target,"mousedown",this._onPress),K(this.target,"touchstart",this._onPress),K(ct,"touchforcechange",j),K(this.target,"click",this._onClick),this.touchEventTarget&&(K(this.touchEventTarget,"touchcancel",this._onRelease),K(this.touchEventTarget,"touchend",this._onRelease),K(this.touchEventTarget,"touchmove",this._onMove)),K(ht,"mouseup",this._onRelease),K(ht,"mousemove",this._onMove),this.isDragging=this.isPressed=!1,e&&et("onDragEnd",this,this.pointerEvent)),this):this._enabled;var e},At.endDrag=function(t){this._onRelease(t)},Xt);function Xt(t,e){this.target="string"==typeof t?ht.querySelectorAll(t)[0]:t,this.vars=e||{},this._onPress=tt(it,this),this._onMove=tt(st,this),this._onRelease=tt(rt,this),this.target.setAttribute("transform",(this.target.getAttribute("transform")||"")+" translate(0,0)"),this._matrix=F(this.target),this.x=this._matrix.e,this.y=this._matrix.f,this.snap=e.snap,isNaN(e.maxX)&&isNaN(e.minX)?this._bounds=0:(this._bounds=1,this.maxX=+e.maxX,this.minX=+e.minX),this.enabled(!0)}var It,Ot=((It=qt.prototype).onPress=function(){et("onPress",this)},It.onClick=function(){et("onClick",this)},It.onDrag=function(){var t=this.segment;this.vars.onDrag.call(this.vars.callbackScope||this,this,this._draggable.x-t[this.i],this._draggable.y-t[this.i+1])},It.onDragEnd=function(){et("onDragEnd",this)},It.onRelease=function(){et("onRelease",this)},It.update=function(t,e,n){t&&(this.rawPath=t),arguments.length<=1?(e=this.j,n=this.i):(this.j=e,this.i=n);var i=this.smooth,s=this.rawPath[e],r=0===n&&s.closed?s.length-4:n-2;this.segment=s,this.smooth=0<n&&n<s.length-2&&Math.abs(Math.atan2(s[n+1]-s[1+r],s[n]-s[r])-Math.atan2(s[n+3]-s[n+1],s[n+2]-s[n]))<.09?2:0,this.smooth!==i&&this.element.setAttribute("d",this.smooth?this.editor._circleHandle:this.editor._squareHandle),this.element.setAttribute("transform","translate("+s[n]+","+s[n+1]+")")},qt);function qt(t,e,n,i,s){this.editor=t,this.element=B("path",t._selection,{fill:wt,stroke:wt,strokeWidth:2,vectorEffect:"non-scaling-stroke"}),this.update(e,n,i),this.element._gsSelection=!0,this.vars=s||{},this._draggable=new Lt(this.element,{callbackScope:this,onDrag:this.onDrag,snap:this.vars.snap,onPress:this.onPress,onRelease:this.onRelease,onClick:this.onClick,onDragEnd:this.onDragEnd})}var Yt,Vt=((Yt=Gt.prototype)._onRelease=function(t){var e=this._editingAnchor;e&&(Et.x=e.segment[e.i],Et.y=e.segment[e.i+1]),K(ct,"touchforcechange",j),et("onRelease",this,t)},Yt.init=function(){var t,e,n=this.path.getAttribute("d"),i=_(n),s=this.path.getAttribute("transform")||"translate(0,0)",r=!this._rawPath||i.totalPoints!==this._rawPath.totalPoints||i.length!==this._rawPath.length,o={callbackScope:this,snap:this.vars.anchorSnap,onDrag:this._onDragAnchor,onPress:this._onPressAnchor,onRelease:this._onRelease,onClick:this._onClickAnchor,onDragEnd:this._onDragEndAnchor,maxX:this.vars.maxX,minX:this.vars.minX};if(r&&this._anchors&&this._anchors.length){for(e=0;e<this._anchors.length;e++)this._anchors[e].element.parentNode.removeChild(this._anchors[e].element),this._anchors[e]._draggable.enabled(!1);this._selectedAnchors.length=0}if(this._rawPath=i,r){if(this._anchors=ot(i,0,this,o),1<(t=i.length))for(e=1;e<t;e++)this._anchors=this._anchors.concat(ot(i,e,this,o))}else for(e=this._anchors.length;-1<--e;)this._anchors[e].update(i);return this._selection.appendChild(this._handle1),this._selection.appendChild(this._handle2),this._selectionPath.setAttribute("d",n),this._selectionHittest.setAttribute("d",n),this._g.setAttribute("transform",function(t){for(var e=F(t),n=t.ownerSVGElement;(t=t.parentNode)&&t.ownerSVGElement===n;)e.multiply(F(t));return"matrix("+e.a+","+e.b+","+e.c+","+e.d+","+e.e+","+e.f+")"}(this.path.parentNode)||"translate(0,0)"),this._selection.setAttribute("transform",s),this._selectionHittest.setAttribute("transform",s),this._updateAnchors(),this},Yt._saveState=function(){!function(t){var e,n=[],i=t._selectedAnchors;for(e=0;e<i.length;e++)n[e]=i[e].i;kt.unshift({path:t,d:t.path.getAttribute("d"),transform:t.path.getAttribute("transform")||"",selectedIndexes:n}),30<kt.length&&(kt.length=30)}(this)},Yt._onClickSelectionPath=function(t){if("hidden"===this._selection.style.visibility)this.select();else if(gt||t&&t.altKey){var n,s,r,o,a,h,l={callbackScope:this,snap:this.vars.anchorSnap,onDrag:this._onDragAnchor,onPress:this._onPressAnchor,onRelease:this._onRelease,onClick:this._onClickAnchor,onDragEnd:this._onDragEndAnchor,maxX:this.vars.maxX,minX:this.vars.minX},c=this._selection.getScreenCTM().inverse();for(this._draggable&&this._draggable._onRelease(t),c&&(o=t.clientX*c.a+t.clientY*c.c+c.e,a=t.clientX*c.b+t.clientY*c.d+c.f),h=function(t,e,n,s){var r,o,a,h,l={j:0,i:0,t:0},c=u;for(o=0;o<t.length;o++)for(h=t[o],r=0;r<h.length;r+=6)a=y(1,e,n,0,1,s||20,h[r],h[r+1],h[r+2],h[r+3],h[r+4],h[r+5],h[r+6],h[r+7]),i<c&&(c=i,l.j=o,l.i=r,l.t=a);return l}(this._rawPath,o,a),function(t,n,i){if(i<=0||1<=i)return 0;var s=t[n],r=t[n+1],o=t[n+2],a=t[n+3],h=t[n+4],l=t[n+5],c=s+(o-s)*i,d=o+(h-o)*i,u=r+(a-r)*i,g=a+(l-a)*i,p=c+(d-c)*i,f=u+(g-u)*i,_=h+(t[n+6]-h)*i,m=l+(t[n+7]-l)*i;d+=(_-d)*i,g+=(m-g)*i,t.splice(n+2,4,e(c),e(u),e(p),e(f),e(p+(d-p)*i),e(f+(g-f)*i),e(d),e(g),e(_),e(m)),t.samples&&t.samples.splice(n/6*t.resolution|0,0,0,0,0,0,0,0)}(this._rawPath[h.j],h.i,h.t),n=h.i+6,s=0;s<this._anchors.length;s++)this._anchors[s].i>=n&&(this._anchors[s].i+=6);r=new Ot(this,this._rawPath,h.j,n,l),this._selection.appendChild(this._handle1),this._selection.appendChild(this._handle2),r._draggable._onPress(t),_t=r,this._anchors.push(r),this._selectedAnchors.length=0,this._selectedAnchors.push(r),this._updateAnchors(),this.update(),this._saveState()}nt(),Z(ct,"touchforcechange",j),et("onPress",this)},Yt._onClickHandle1=function(){var t=this._editingAnchor,e=t.i,n=t.segment,i=t.isClosedStart?n.length-4:e-2;gt&&Math.abs(n[e]-n[i])<5&&Math.abs(n[e+1]-n[1+i])<5&&this._onClickAnchor(t)},Yt._onClickHandle2=function(){var t=this._editingAnchor,e=t.i,n=t.segment;gt&&Math.abs(n[e]-n[e+2])<5&&Math.abs(n[e+1]-n[e+3])<5&&this._onClickAnchor(t)},Yt._onDragEndAnchor=function(){_t=null,this._saveState()},Yt.isSelected=function(){return 0<this._selectedAnchors.length},Yt.select=function(t){if(this._selection.style.visibility="visible",this._editingAnchor=null,(this.path._gsSelection=!0)===t)for(var e=this._anchors.length;-1<--e;)this._selectedAnchors[e]=this._anchors[e];return-1===Ht.indexOf(this)&&Ht.push(this),this._updateAnchors(),this},Yt.deselect=function(){return this._selection.style.visibility="hidden",this._selectedAnchors.length=0,this._editingAnchor=null,this.path._gsSelection=!1,Ht.splice(Ht.indexOf(this),1),this._updateAnchors(),this},Yt._onDragPath=function(){var t=this._selectionHittest.getAttribute("transform")||"translate(0,0)";this._selection.setAttribute("transform",t),this.path.setAttribute("transform",t)},Yt._onPressAnchor=function(t){-1===this._selectedAnchors.indexOf(t)?(pt||(this._selectedAnchors.length=0),this._selectedAnchors.push(t)):pt&&(this._selectedAnchors.splice(this._selectedAnchors.indexOf(t),1),t._draggable.endDrag()),Et.x=t.segment[t.i],Et.y=t.segment[t.i+1],this._updateAnchors(),et("onPress",this)},Yt._deleteSelectedAnchors=function(){for(var t,e,n,i=this._selectedAnchors,s=i.length;-1<--s;)for((t=i[s]).element.parentNode.removeChild(t.element),t._draggable.enabled(!1),(e=t.i)?e<t.segment.length-2?t.segment.splice(e-2,6):t.segment.splice(e-4,6):t.segment.splice(e,6),i.splice(s,1),this._anchors.splice(this._anchors.indexOf(t),1),n=0;n<this._anchors.length;n++)this._anchors[n].i>=e&&(this._anchors[n].i-=6);this._updateAnchors(),this.update(),this._saveState(),this.vars.onDeleteAnchor&&this.vars.onDeleteAnchor.call(this.vars.callbackScope||this)},Yt._onClickAnchor=function(t){var e,n,i,s,r,o,a=t.i,h=t.segment,l=t.isClosedStart?h.length-4:a-2,c=1e3,d=!a||a>=h.length-2;gt&&_t!==t&&this._editingAnchor?(t.smooth=!t.smooth,d&&!t.isClosedStart&&(t.smooth=!1),t.element.setAttribute("d",t.smooth?this._circleHandle:this._squareHandle),!t.smooth||d&&!t.isClosedStart?t.smooth||d&&!t.isClosedStart||((a||t.isClosedStart)&&(h[l]=h[a],h[1+l]=h[a+1]),a<h.length-2&&(h[a+2]=h[a],h[a+3]=h[a+1]),this._updateAnchors(),this.update(),this._saveState()):(e=((e=Math.atan2(h[a+1]-h[1+l],h[a]-h[l]))+(n=Math.atan2(h[a+3]-h[a+1],h[a+2]-h[a])))/2,i=at(h,l,a),s=at(h,a,a+2),i<.2&&(i=at(h,a,l-4)/4,e=n||Math.atan2(h[a+7]-h[l-3],h[a+6]-h[l-4])),s<.2&&(s=at(h,a,a+6)/4,n=e||Math.atan2(h[a+7]-h[l-3],h[a+6]-h[l-4])),r=Math.sin(e),o=Math.cos(e),Math.abs(n-e)<Math.PI/2&&(r=-r,o=-o),h[l]=((h[a]+o*i)*c|0)/c,h[1+l]=((h[a+1]+r*i)*c|0)/c,h[a+2]=((h[a]-o*s)*c|0)/c,h[a+3]=((h[a+1]-r*s)*c|0)/c,this._updateAnchors(),this.update(),this._saveState())):pt||(this._selectedAnchors.length=0,this._selectedAnchors.push(t)),_t=null,this._updateAnchors()},Yt._updateAnchors=function(){var t,e,n,i=1===this._selectedAnchors.length?this._selectedAnchors[0]:null,s=i?i.segment:null;for(this._editingAnchor=i,t=0;t<this._anchors.length;t++)this._anchors[t].element.style.fill=-1!==this._selectedAnchors.indexOf(this._anchors[t])?wt:"white";i&&(this._handle1.setAttribute("d",i.smooth?this._circleHandle:this._squareHandle),this._handle2.setAttribute("d",i.smooth?this._circleHandle:this._squareHandle)),t=i?i.i:0,i&&(t||i.isClosedStart)?(e=i.isClosedStart?s[s.length-4]:s[t-2],n=i.isClosedStart?s[s.length-3]:s[t-1],this._handle1.style.visibility=this._line1.style.visibility=gt||e!==s[t]||n!==s[t+1]?"visible":"hidden",this._handle1.setAttribute("transform","translate("+e+Tt+n+")"),this._line1.setAttribute("points",e+Tt+n+Tt+s[t]+Tt+s[t+1])):this._handle1.style.visibility=this._line1.style.visibility="hidden",i&&t<s.length-2?(e=s[t+2],n=s[t+3],this._handle2.style.visibility=this._line2.style.visibility=gt||e!==s[t]||n!==s[t+1]?"visible":"hidden",this._handle2.setAttribute("transform","translate("+e+Tt+n+")"),this._line2.setAttribute("points",s[t]+Tt+s[t+1]+Tt+e+Tt+n)):this._handle2.style.visibility=this._line2.style.visibility="hidden"},Yt._onPressAlt=function(){var t=this._editingAnchor;t&&((t.i||t.isClosedStart)&&(this._handle1.style.visibility=this._line1.style.visibility="visible"),t.i<t.segment.length-2&&(this._handle2.style.visibility=this._line2.style.visibility="visible"))},Yt._onReleaseAlt=function(){var t,e,n,i=this._editingAnchor;i&&(t=i.segment,e=i.i,n=i.isClosedStart?t.length-4:e-2,t[e]===t[n]&&t[e+1]===t[1+n]&&(this._handle1.style.visibility=this._line1.style.visibility="hidden"),t[e]===t[e+2]&&t[e+1]===t[e+3]&&(this._handle2.style.visibility=this._line2.style.visibility="hidden"))},Yt._onPressHandle1=function(){this._editingAnchor.smooth&&(this._oppositeHandleLength=at(this._editingAnchor.segment,this._editingAnchor.i,this._editingAnchor.i+2)),et("onPress",this)},Yt._onPressHandle2=function(){this._editingAnchor.smooth&&(this._oppositeHandleLength=at(this._editingAnchor.segment,this._editingAnchor.isClosedStart?this._editingAnchor.segment.length-4:this._editingAnchor.i-2,this._editingAnchor.i)),et("onPress",this)},Yt._onReleaseHandle=function(t){this._onRelease(t),this._saveState()},Yt._onDragHandle1=function(){var t,e=this._editingAnchor,n=e.segment,i=e.i,s=e.isClosedStart?n.length-4:i-2,r=1e3,o=this._handle1._draggable.x,a=this._handle1._draggable.y;n[s]=o=(o*r|0)/r,n[1+s]=a=(a*r|0)/r,e.smooth&&(gt?(e.smooth=!1,e.element.setAttribute("d",this._squareHandle),this._handle1.setAttribute("d",this._squareHandle),this._handle2.setAttribute("d",this._squareHandle)):(t=Math.atan2(n[i+1]-a,n[i]-o),o=this._oppositeHandleLength*Math.cos(t),a=this._oppositeHandleLength*Math.sin(t),n[i+2]=((n[i]+o)*r|0)/r,n[i+3]=((n[i+1]+a)*r|0)/r)),this.update()},Yt._onDragHandle2=function(){var t,e=this._editingAnchor,n=e.segment,i=e.i,s=e.isClosedStart?n.length-4:i-2,r=1e3,o=this._handle2._draggable.x,a=this._handle2._draggable.y;n[i+2]=o=(o*r|0)/r,n[i+3]=a=(a*r|0)/r,e.smooth&&(gt?(e.smooth=!1,e.element.setAttribute("d",this._squareHandle),this._handle1.setAttribute("d",this._squareHandle),this._handle2.setAttribute("d",this._squareHandle)):(t=Math.atan2(n[i+1]-a,n[i]-o),o=this._oppositeHandleLength*Math.cos(t),a=this._oppositeHandleLength*Math.sin(t),n[s]=((n[i]+o)*r|0)/r,n[1+s]=((n[i+1]+a)*r|0)/r)),this.update()},Yt._onDragAnchor=function(t,e,n){var i,s,r,o,a,h=this._selectedAnchors,l=h.length,c=1e3;for(s=0;s<l;s++)i=(o=h[s]).i,r=o.segment,i?(r[i-2]=((r[i-2]+e)*c|0)/c,r[i-1]=((r[i-1]+n)*c|0)/c):o.isClosedStart&&(r[a=r.length-2]=W(r[a]+e),r[1+a]=W(r[1+a]+n),r[a-2]=W(r[a-2]+e),r[a-1]=W(r[a-1]+n)),r[i]=((r[i]+e)*c|0)/c,r[i+1]=((r[i+1]+n)*c|0)/c,i<r.length-2&&(r[i+2]=((r[i+2]+e)*c|0)/c,r[i+3]=((r[i+3]+n)*c|0)/c),o!==t&&o.element.setAttribute("transform","translate("+r[i]+Tt+r[i+1]+")");this.update()},Yt.enabled=function(t){if(!arguments.length)return this._enabled;for(var e=this._anchors.length;-1<--e;)this._anchors[e]._draggable.enabled(t);return this._enabled=t,this._handle1._draggable.enabled(t),this._handle2._draggable.enabled(t),this._draggable&&this._draggable.enabled(t),t?this._selection.parentNode||(this.path.ownerSVGElement.appendChild(this._selectionHittest),this.path.ownerSVGElement.appendChild(this._selection),this.init(),this._saveState()):(this.deselect(),this.path.ownerSVGElement.removeChild(this._selectionHittest),this.path.ownerSVGElement.removeChild(this._selection)),this._updateAnchors(),this.update()},Yt.update=function(t){var e,n,i,s,r,o="",a=this._editingAnchor;if(t&&this.init(),a&&(e=a.i,n=a.segment,(e||a.isClosedStart)&&(i=n[r=a.isClosedStart?n.length-4:e-2],s=n[1+r],this._handle1.setAttribute("transform","translate("+i+Tt+s+")"),this._line1.setAttribute("points",i+Tt+s+Tt+n[e]+Tt+n[e+1])),e<n.length-2&&(i=n[e+2],s=n[e+3],this._handle2.setAttribute("transform","translate("+i+Tt+s+")"),this._line2.setAttribute("points",n[e]+Tt+n[e+1]+Tt+i+Tt+s))),t)o=this.path.getAttribute("d");else{for(e=0;e<this._rawPath.length;e++)7<(n=this._rawPath[e]).length&&(o+="M"+n[0]+Tt+n[1]+"C"+n.slice(2).join(Tt));this.path.setAttribute("d",o),this._selectionPath.setAttribute("d",o),this._selectionHittest.setAttribute("d",o)}return this.vars.onUpdate&&this._enabled&&et("onUpdate",this,o),this},Yt.getRawPath=function(t,e,n){if(t){var i=F(this.path);return p(g(this._rawPath),1,0,0,1,i.e+(e||0),i.f+(n||0))}return this._rawPath},Yt.getString=function(t,n,i){if(t){var s=F(this.path);return function(t){!function(t){return"number"==typeof t}(t[0])||(t=[t]);var n,i,s,r,o="",a=t.length;for(i=0;i<a;i++){for(o+="M"+e((r=t[i])[0])+","+e(r[1])+" C",n=r.length,s=2;s<n;s++)o+=e(r[s++])+","+e(r[s++])+" "+e(r[s++])+","+e(r[s++])+" "+e(r[s++])+","+e(r[s])+" ";r.closed&&(o+="z")}return o}(p(g(this._rawPath),1,0,0,1,s.e+(n||0),s.f+(i||0)))}return this.path.getAttribute("d")},Yt.getNormalizedSVG=function(t,e,n,i){var s,r,o,a,h,l,c=this._rawPath[0],d=-1*c[0],u=0===e?0:-(e||c[1]),g=c.length,p=1/(c[g-2]+d),f=-t||c[g-1]+u;for(f=f?1/f:-p,p*=1e3,f*=1e3,r=Dt.length=0;r<g;r+=2)Dt[r]=((c[r]+d)*p|0)/1e3,Dt[r+1]=((c[r+1]+u)*f|0)/1e3;if(i){for(s=[],g=Dt.length,r=2;r<g;r+=6)o=Dt[r-2],a=Dt[r-1],h=Dt[r+4],l=Dt[r+5],s.push(o,a,h,l),m(o,a,Dt[r],Dt[r+1],Dt[r+2],Dt[r+3],h,l,.001,s,s.length-2);for(o=s[0],g=s.length,r=2;r<g;r+=2){if((h=s[r])<o||1<h||h<0){i();break}o=h}}return n&&8===g&&0===Dt[0]&&0===Dt[1]&&1===Dt[g-2]&&1===Dt[g-1]?Dt.slice(2,6).join(","):(Dt[2]="C"+Dt[2],"M"+Dt.join(","))},Gt);function Gt(t,e){e=e||{},yt||(ht=document,ct=window,dt=ht.body,mt=z("div"),(bt=z("textarea")).style.display="none",dt&&dt.appendChild(bt),vt=function(t){for(var e=t.split(","),n=(void 0!==mt.onpointerdown?"pointerdown,pointermove,pointerup,pointercancel":void 0!==mt.onmspointerdown?"MSPointerDown,MSPointerMove,MSPointerUp,MSPointerCancel":t).split(","),i={},s=4;-1<--s;)i[e[s]]=n[s],i[n[s]]=e[s];return i}("touchstart,touchmove,touchend,touchcancel"),SVGElement.prototype.getTransformToElement=SVGElement.prototype.getTransformToElement||function(t){return t.getScreenCTM().inverse().multiply(this.getScreenCTM())},ht.addEventListener("keydown",(function(t){var e,n,i,s,r=t.keyCode||t.which,o=t.key||r;if("Shift"===o||16===r)pt=!0;else if("Control"===o||17===r)ut=!0;else if("Meta"===o||91===r)ft=!0;else if("Alt"===o||18===r)for(gt=!0,e=Ht.length;-1<--e;)Ht[e]._onPressAlt();else if(("z"===o||90===r)&&(ut||ft)&&1<kt.length){if(kt.shift(),n=kt[0]){for((s=n.path).path.setAttribute("d",n.d),s.path.setAttribute("transform",n.transform),s.init(),i=s._anchors,e=0;e<i.length;e++)-1!==n.selectedIndexes.indexOf(i[e].i)&&s._selectedAnchors.push(i[e]);s._updateAnchors(),s.update(),s.vars.onUndo&&s.vars.onUndo.call(s)}}else if("Delete"===o||"Backspace"===o||8===r||46===r||63272===r||"d"===r&&(ut||ft))for(e=Ht.length;-1<--e;)Ht[e]._deleteSelectedAnchors();else if(("a"===o||65===r)&&(ft||ut))for(e=Ht.length;-1<--e;)Ht[e].select(!0)}),!0),ht.addEventListener("keyup",(function(t){
var e=t.key||t.keyCode||t.which;if("Shift"===e||16===e)pt=!1;else if("Control"===e||17===e)ut=!1;else if("Meta"===e||91===e)ft=!1;else if("Alt"===e||18===e){gt=!1;for(var n=Ht.length;-1<--n;)Ht[n]._onReleaseAlt()}}),!0),lt=!!ct.PointerEvent,Z(ht,"mouseup",U),Z(ht,"touchend",U),Z(ht,"touchcancel",G),Z(ct,"touchmove",G),dt&&dt.addEventListener("touchstart",G),yt=1),this.vars=e,this.path="string"==typeof t?ht.querySelectorAll(t)[0]:t,this._g=B("g",this.path.ownerSVGElement,{class:"path-editor-g path-editor"}),this._selectionHittest=B("path",this._g,{stroke:"transparent",strokeWidth:16,fill:"none",vectorEffect:"non-scaling-stroke"}),this._selection=e._selection||B("g",this._g,{class:"path-editor-selection path-editor"}),this._selectionPath=B("path",this._selection,{stroke:wt,strokeWidth:2,fill:"none",vectorEffect:"non-scaling-stroke"}),this._selectedAnchors=[],this._line1=B("polyline",this._selection,{stroke:wt,strokeWidth:2,vectorEffect:"non-scaling-stroke"}),this._line2=B("polyline",this._selection,{stroke:wt,strokeWidth:2,vectorEffect:"non-scaling-stroke"}),this._line1.style.pointerEvents=this._line2.style.pointerEvents=this._selectionPath.style.pointerEvents="none",this._enabled=!0;var n=this.path.parentNode.getScreenCTM().inverse(),i=(n.a+n.d)/2*(e.handleSize||5);this._squareHandle=function(t){return["M-"+(t=W(t)),-t,t,-t,t,t,-t,t+"z"].join(Tt)}(i),this._circleHandle=function(t){var e=W(.552284749831*t);return"M"+(t=W(t))+",0C"+[t,e,e,t,0,t,-e,t,-t,e,-t,0,-t,-e,-e,-t,0,-t,e,-t,t,-e,t,0].join(Tt)+"z"}(1.15*i),this._handle1=B("path",this._selection,{d:this._squareHandle,fill:wt,stroke:"transparent",strokeWidth:6}),this._handle2=B("path",this._selection,{d:this._squareHandle,fill:wt,stroke:"transparent",strokeWidth:6}),this._handle1._draggable=new Lt(this._handle1,{onDrag:this._onDragHandle1,callbackScope:this,onPress:this._onPressHandle1,onRelease:this._onReleaseHandle,onClick:this._onClickHandle1,snap:e.handleSnap}),this._handle2._draggable=new Lt(this._handle2,{onDrag:this._onDragHandle2,callbackScope:this,onPress:this._onPressHandle2,onRelease:this._onReleaseHandle,onClick:this._onClickHandle2,snap:e.handleSnap}),this._handle1.style.visibility=this._handle2.style.visibility="hidden";for(var s=[this._handle1,this._handle2,this._line1,this._line2,this._selection,this._selectionPath,this._selectionHittest],r=s.length;-1<--r;)s[r]._gsSelection=!0;!1!==e.draggable&&(this._draggable=new Lt(this._selectionHittest,{callbackScope:this,onPress:this.select,onRelease:this._onRelease,onDrag:this._onDragPath,onDragEnd:this._saveState,maxX:this.vars.maxX,minX:this.vars.minX})),this.init(),this._selection.style.visibility=!1===e.selected?"hidden":"visible",!1!==e.selected&&(this.path._gsSelection=!0,Ht.push(this)),this._saveState(),lt||(Z(this._selectionHittest,"mousedown",tt(this._onClickSelectionPath,this)),Z(this._selectionHittest,"mouseup",tt(this._onRelease,this))),Z(this._selectionHittest,"touchstart",tt(this._onClickSelectionPath,this)),Z(this._selectionHittest,"touchend",tt(this._onRelease,this))}function jt(t){return"string"==typeof t}function zt(t,e){var n=Zt.createElementNS?Zt.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Zt.createElement(t);return n.style?n:Zt.createElement(t)}function Bt(t,e,n){return jt(t)&&ne.test(t)?Zt.querySelector(t):Array.isArray(t)?te(Jt([{x:Wt.getProperty(e,"x"),y:Wt.getProperty(e,"y")}].concat(t),n)):jt(t)||t&&"path"===(t.tagName+"").toLowerCase()?t:0}function Ft(t,e){var n="Please gsap.registerPlugin(MotionPathPlugin)";Ut=window,Wt=Wt||t||Ut.gsap||console.warn(n),Zt=document,Kt=Zt.body,$t=Zt.documentElement,(Qt=Wt&&Wt.plugins.motionPath)?((ee=zt("textarea")).style.display="none",Kt.appendChild(ee),Jt=Qt.arrayToRawPath,te=Qt.rawPathToString):!0===e&&console.warn(n)}Vt.simplifyPoints=b,Vt.pointsToSegment=v,Vt.simplifySVG=function(t,e){var n,i,s,r,o,a,h,l,c,d,u,g;if(d=(e=e||{}).tolerance||1,c=e.precision||1/d,g=(void 0===e.cornerThreshold?18:+e.cornerThreshold)*Pt,"string"!=typeof t&&(t=(n=t).getAttribute("d")),"#"!==t.charAt(0)&&"."!==t.charAt(0)||(n=ht.querySelector(t))&&(t=n.getAttribute("d")),i=!1!==e.curved||/[achqstvz]/gi.test(t)?_(t)[0]:t.match($),!1!==e.curved){for(l=i,i=[],u=l.length,s=2;s<u;s+=6)r=+l[s-2],a=+l[s-1],o=+l[s+4],h=+l[s+5],i.push(W(r),W(a),W(o),W(h)),m(r,a,+l[s],+l[s+1],+l[s+2],+l[s+3],o,h,1/(2e5*c),i,i.length-2);(i=v(b(i,d),e.curviness,g))[2]="C"+i[2]}else i=b(i,d);return t="M"+i.join(","),n&&n.setAttribute("d",t),t},Vt.create=function(t,e){return new Vt(t,e)},Vt.editingAxis=Et,Vt.getSnapFunction=function(t){var e=t.radius||2,n=1e20,i=t.x||0===t.x?t.x:t.width?0:-n,s=t.y||0===t.y?t.y:t.height?0:-n,r=i+(t.width||1e40),o=s+(t.height||1e40),a=!1!==t.containX,h=!1!==t.containY,l=t.axis,c=t.gridSize;return e*=e,function(t){var n,d,u,g,p=t.x,f=t.y;a&&p<i||(u=p-i)*u<e?p=i:(a&&r<p||(u=r-p)*u<e)&&(p=r),h&&f<s||(g=f-s)*g<e?f=s:(h&&o<f||(g=o-f)*g<e)&&(f=o),l&&(u=p-l.x,g=f-l.y,u*u<e&&(p=l.x),g*g<e&&(f=l.y)),c&&(u=(n=i+Math.round((p-i)/c)*c)-p)*u+(g=(d=s+Math.round((f-s)/c)*c)-f)*g<e&&(p=n,f=d),t.x=p,t.y=f}},Vt.version="3.7.1";var Wt,Ut,Zt,$t,Kt,Qt,Jt,te,ee,ne=/(^[#\.][a-z]|[a-y][a-z])/i,ie={matrix:{a:1,b:0,c:0,d:1,e:0,f:0}},se=(re.prototype.getString=function(){return this.editor.getString(!0,-this.offset.x,-this.offset.y)},re);function re(t,e){void 0===e&&(e={}),Qt||Ft(e.gsap,1);var n,i,s,r,o,a,h,l,c,d,u,g,p,f=zt("div"),_=this,m={x:0,y:0};t instanceof Wt.core.Tween?n=(l=t).targets()[0]:(n=Wt.utils.toArray(t)[0],l=function(t){for(var e=Wt.getTweensOf(t),n=0;n<e.length;n++){if(e[n].vars.motionPath)return e[n];e[n].timeline&&e.push.apply(e,e[n].timeline.getChildren())}}(n)),i=Bt(e.path,n,e),this.offset=m,a=function(t){var e=t.getBoundingClientRect(),n=$t.clientTop-(Ut.pageYOffset||$t.scrollTop||Kt.scrollTop||0),i=$t.clientLeft-(Ut.pageXOffset||$t.scrollLeft||Kt.scrollLeft||0);return{left:e.left+i,top:e.top+n,right:e.right+i,bottom:e.bottom+n}}(n),r=parseFloat(Wt.getProperty(n,"x","px")),o=parseFloat(Wt.getProperty(n,"y","px")),s=n.getCTM&&"svg"!==n.tagName.toLowerCase(),l&&!i&&(i=Bt(l.vars.motionPath.path||l.vars.motionPath,n,l.vars.motionPath)),f.setAttribute("class","copy-motion-path"),f.style.cssText="border-radius:8px; background-color:rgba(85, 85, 85, 0.7); color:#fff; cursor:pointer; padding:6px 12px; font-family:Signika Negative, Arial, sans-serif; position:fixed; left:50%; transform:translate(-50%, 0); font-size:19px; bottom:10px",f.innerText="COPY MOTION PATH",f._gsHelper=_,(Wt.utils.toArray(e.container)[0]||Kt).appendChild(f),function(t,e,n){t.addEventListener("click",(function(i){if(i.target._gsHelper){var s=e(i.target);if((ee.value=s)&&ee.select){console.log(s),ee.style.display="block",ee.select();try{Zt.execCommand("copy"),ee.blur(),n&&n(t)}catch(i){console.warn("Copy didn't work; this browser doesn't permit that.")}ee.style.display="none"}}}))}(f,(function(){return _.getString()}),(function(){return Wt.fromTo(f,{backgroundColor:"white"},{duration:.5,backgroundColor:"rgba(85, 85, 85, 0.6)"})})),(h=i&&i.ownerSVGElement)||(c=s&&n.ownerSVGElement&&n.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg",s?(h=n.ownerSVGElement,d=n.getBBox(),r=(u=function(t){return(t.transform.baseVal.consolidate()||ie).matrix}(n)).e,o=u.f,m.x=d.x,m.y=d.y):(h=zt("svg",c),Kt.appendChild(h),h.setAttribute("viewBox","0 0 100 100"),h.style.cssText="overflow:visible; background-color: transparent; position:absolute; width:100px; height:100px; top:"+(a.top-o)+"px; left:"+(a.left-r)+"px;"),d=jt(i)&&!ne.test(i)?i:function(t,e){var n,i=[0,31,8,58,24,75,40,90,69,100,100,100];for(n=0;n<i.length;n+=2)i[n]+=t,i[n+1]+=e;return"M"+t+","+e+"C"+i.join(",")}(r,o),(i=zt("path",c)).setAttribute("d",d),i.setAttribute("vector-effect","non-scaling-stroke"),i.style.cssText="fill:transparent; stroke-width:"+(e.pathWidth||3)+"; stroke:"+(e.pathColor||"#555")+"; opacity:"+(e.pathOpacity||.6),h.appendChild(i),(m.x||m.y)&&Wt.set(i,{x:m.x,y:m.y})),"selected"in e||(e.selected=!0),"anchorSnap"in e||(e.anchorSnap=function(t){t.x*t.x+t.y*t.y<16&&(t.x=t.y=0)}),p=l&&"nested"===l.parent.data?l.parent.parent:l,e.onPress=function(){p.pause(0)},g=function(){l.invalidate(),p.restart()},e.onRelease=e.onDeleteAnchor=g,this.editor=Vt.create(i,e),e.center&&Wt.set(n,{transformOrigin:"50% 50%",xPercent:-50,yPercent:-50}),l?(l.vars.motionPath.path?l.vars.motionPath.path=i:l.vars.motionPath={path:i},p.parent!==Wt.globalTimeline&&Wt.globalTimeline.add(p,function(t){for(var e=t.totalTime();t;)e=t.startTime()+e/(t.timeScale()||1),t=t.parent;return e}(p)-p.delay()),p.repeat(-1).repeatDelay(1)):l=p=Wt.to(n,{motionPath:{path:i,start:e.start||0,end:"end"in e?e.end:1,autoRotate:"autoRotate"in e&&e.autoRotate,align:i,alignOrigin:e.alignOrigin},duration:e.duration||5,ease:e.ease||"power1.inOut",repeat:-1,repeatDelay:1,paused:!e.path}),this.animation=l}se.register=Ft,se.create=function(t,e){return new se(t,e)},se.editPath=function(t,e){return Vt.create(t,e)},se.version="3.7.1",t.MotionPathHelper=se,t.default=se,"undefined"==typeof window||window!==t?Object.defineProperty(t,"__esModule",{value:!0}):delete t.default}));